<Window x:Class="EgeGenerator.ViewTaskWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Просмотр задания" 
        Height="960" 
        Width="1400"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResizeWithGrip">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" 
                Background="#2196F3" 
                Padding="10">
            <StackPanel>
                <TextBlock x:Name="txtTaskTitle" 
                           Text="Задание" 
                           FontSize="20" 
                           FontWeight="Bold" 
                           Foreground="White"/>
                <TextBlock x:Name="txtVariantInfo" 
                           Text="" 
                           FontSize="12" 
                           Foreground="White"/>
            </StackPanel>
        </Border>

        <!-- Основной контент -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto" 
                      Padding="20">
            <StackPanel x:Name="mainPanel">
                <!-- Изображение задания -->
                <Border BorderBrush="#DDDDDD" 
                        BorderThickness="1" 
                        Background="White"
                        Padding="10"
                        Margin="0,0,0,20">
                    <Image x:Name="taskImage" 
                           Stretch="None" 
                           HorizontalAlignment="Left"/>
                </Border>

                <!-- Дополнительные материалы -->
                <StackPanel x:Name="extraMaterialsPanel" 
                            Visibility="Collapsed">
                    <TextBlock Text="Дополнительные материалы:" 
                               FontWeight="Bold" 
                               Margin="0,0,0,10"/>

                    <StackPanel x:Name="extraFilesStackPanel"/>
                </StackPanel>

                <!-- Ответ -->
                <Border BorderBrush="#DDDDDD" 
                        BorderThickness="1" 
                        Background="#F9F9F9"
                        Padding="10"
                        Margin="0,20,0,0">
                    <StackPanel>
                        <TextBlock Text="Ответ:" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,10"/>
                        <TextBox x:Name="txtAnswer" 
                                 TextWrapping="Wrap" 
                                 IsReadOnly="True"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 FontSize="14"
                                 Height="80"
                                 VerticalScrollBarVisibility="Auto"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Кнопки -->
        <Border Grid.Row="2" 
                Background="#F5F5F5" 
                BorderBrush="#DDDDDD" 
                BorderThickness="0,1,0,0"
                Padding="10">
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                <Button x:Name="btnPrev" 
                        Content="← Назад" 
                        Width="100" 
                        Height="35"
                        Click="BtnPrev_Click"
                        Margin="0,0,10,0"/>
                <Button x:Name="btnNext" 
                        Content="Вперед →" 
                        Width="100" 
                        Height="35"
                        Click="BtnNext_Click"
                        Margin="0,0,10,0"/>
                <Button Content="Закрыть" 
                        Width="100" 
                        Height="35"
                        Click="BtnClose_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>